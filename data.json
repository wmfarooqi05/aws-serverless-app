{"service":"gel-api","frameworkVersion":"3","plugins":["serverless-esbuild","serverless-offline","serverless-dotenv-plugin","serverless-layers"],"configValidationMode":"error","useDotenv":true,"provider":{"name":"aws","runtime":"nodejs18.x","region":"ca-central-1","timeout":100,"stage":"${self:custom.STAGE}","iam":{"role":{"statements":[{"Effect":"Allow","Action":["codedeploy:*"],"Resource":"*"}]}},"deploymentBucket":{"name":"${self:custom.DEPLOYMENT_BUCKET}"},"apiGateway":{"minimumCompressionSize":1024,"shouldStartNameWithService":true},"vpc":{"securityGroupIds":["${self:custom.VPC_SECURITY_GROUP}"],"subnetIds":["${self:custom.PRIVATE_SUBNET_1}","${self:custom.PRIVATE_SUBNET_2}","${self:custom.PRIVATE_SUBNET_3}"]},"environment":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","NODE_OPTIONS":"--enable-source-maps --stack-trace-limit=1000","REGION":"${self:custom.region}","STACK_NAME":"${self:custom.STACK_NAME}"},"tracing":{"lambda":true}},"functions":{"createCompany":{"handler":"src/functions/companies/handler.createCompany","events":[{"http":{"method":"post","path":"company","cors":true}}]},"deleteCompany":{"handler":"src/functions/companies/handler.deleteCompany","events":[{"http":{"method":"delete","path":"company/{companyId}","cors":true}}]},"getCompanyById":{"handler":"src/functions/companies/handler.getCompanyById","events":[{"http":{"method":"get","path":"company/{companyId}","cors":true}}]},"getCompanies":{"handler":"src/functions/companies/handler.getCompanies","events":[{"http":{"method":"get","path":"companies","cors":true}}]},"getCompaniesByEmployeeId":{"handler":"src/functions/companies/handler.getCompaniesByEmployeeId","events":[{"http":{"method":"get","path":"companies/employee/{employeeId}","cors":true}}]},"updateCompany":{"handler":"src/functions/companies/handler.updateCompany","events":[{"http":{"method":"put","path":"company/{companyId}","cors":true}}]},"updateCompanyAssignedEmployee":{"handler":"src/functions/companies/handler.updateCompanyAssignedEmployee","events":[{"http":{"method":"put","path":"company/{companyId}/assign","cors":true}}]},"createConcernedPersons":{"handler":"src/functions/companies/handler.createConcernedPersons","events":[{"http":{"method":"post","path":"/company/{companyId}/concerned-person","cors":true}}]},"updateConcernedPerson":{"handler":"src/functions/companies/handler.updateConcernedPerson","events":[{"http":{"method":"put","path":"/company/{companyId}/concerned-person/{concernedPersonId}","cors":true}}]},"deleteConcernedPerson":{"handler":"src/functions/companies/handler.deleteConcernedPerson","events":[{"http":{"method":"delete","path":"/company/{companyId}/concerned-person/{concernedPersonId}","cors":true}}]},"getNotes":{"handler":"src/functions/companies/handler.getNotes","events":[{"http":{"method":"get","path":"/company/{companyId}/notes","cors":true}}]},"createNotes":{"handler":"src/functions/companies/handler.createNotes","events":[{"http":{"method":"post","path":"/company/{companyId}/notes","cors":true}}]},"updateNotes":{"handler":"src/functions/companies/handler.updateNotes","events":[{"http":{"method":"put","path":"/company/{companyId}/notes/{notesId}","cors":true}}]},"deleteNotes":{"handler":"src/functions/companies/handler.deleteNotes","events":[{"http":{"method":"delete","path":"/company/{companyId}/notes/{notesId}","cors":true}}]},"importData":{"handler":"src/functions/jobs/import.importData","events":[{"http":{"method":"post","path":"/jobs/importData","cors":true}}]},"getActivities":{"handler":"src/functions/activities/handler.getActivities","events":[{"http":{"method":"get","path":"activities","cors":true}}]},"getActivityById":{"handler":"src/functions/activities/handler.getActivityById","events":[{"http":{"method":"get","path":"activity/{activityId}","cors":true}}]},"createActivity":{"handler":"src/functions/activities/handler.createActivity","events":[{"http":{"method":"post","path":"activity","cors":true}}]},"updateActivity":{"handler":"src/functions/activities/handler.updateActivity","events":[{"http":{"method":"put","path":"activity/{activityId}","cors":true}}]},"deleteActivity":{"handler":"src/functions/activities/handler.deleteActivity","events":[{"http":{"method":"delete","path":"activity/{activityId}","cors":true}}]},"addRemarksToActivity":{"handler":"src/functions/activities/handler.addRemarksToActivity","events":[{"http":{"method":"post","path":"activity/{activityId}/remarks","cors":true}}]},"updateRemarksInActivity":{"handler":"src/functions/activities/handler.updateRemarksInActivity","events":[{"http":{"method":"put","path":"activity/{activityId}/remarks/{remarksId}","cors":true}}]},"deleteRemarkFromActivity":{"handler":"src/functions/activities/handler.deleteRemarkFromActivity","events":[{"http":{"method":"delete","path":"activity/{activityId}/remarks/{remarksId}","cors":true}}]},"getMyActivities":{"handler":"src/functions/activities/handler.getMyActivities","events":[{"http":{"method":"get","path":"my-activities","cors":true}}]},"getTopActivities":{"handler":"src/functions/activities/handler.getTopActivities","events":[{"http":{"method":"get","path":"top-activities/{companyId}","cors":true}}]},"getAllActivitiesByCompany":{"handler":"src/functions/activities/handler.getAllActivitiesByCompany","events":[{"http":{"method":"get","path":"company/{companyId}/activities","cors":true}}]},"getMyActivitiesByDay":{"handler":"src/functions/activities/handler.getMyActivitiesByDay","events":[{"http":{"method":"get","path":"my-activities/{dayFilter}","cors":true}}]},"getMyStaleActivityByStatus":{"handler":"src/functions/activities/handler.getMyStaleActivityByStatus","events":[{"http":{"method":"get","path":"my-activities-by-status-time","cors":true}}]},"approvePendingApproval":{"handler":"src/functions/pending_approvals/handler.approvePendingApproval","events":[{"http":{"method":"post","path":"pending-approval/{requestId}/approve","cors":true}}]},"sendWebSocketNotification":{"handler":"src/functions/pending_approvals/handler.sendWebSocketNotification","events":[{"http":{"method":"post","path":"pending-approval/send-notif","cors":true}}]},"createReminder":{"handler":"src/functions/reminders/handler.createReminder","events":[{"http":{"method":"post","path":"reminder","cors":true}}]},"deleteReminder":{"handler":"src/functions/reminders/handler.deleteReminder","events":[{"http":{"method":"delete","path":"reminder/{reminderId}","cors":true}}]},"dailyReminderCleanup":{"handler":"src/functions/reminders/handler.dailyReminderCleanup","events":[{"http":{"method":"post","path":"reminder/cleanup","cors":true}}]},"webSocketHandler":{"handler":"src/functions/websocket/handler.webSocketHandler","vpc":null,"events":[{"websocket":"$connect"},{"websocket":"$disconnect"},{"websocket":"$default"}]},"broadcastMessage":{"handler":"src/functions/websocket/handler.broadcastMessage","events":[{"http":{"method":"post","path":"websocket/broadcast","cors":true}}]},"getAllWebSocketConnections":{"handler":"src/functions/websocket/handler.getAllConnections","events":[{"http":{"method":"get","path":"websocket/get-connections","cors":true}}]},"googleOauthHandler":{"handler":"src/functions/google/oauth/handler.oauthHandler","events":[{"http":{"method":"post","path":"google/oauth","cors":true}}]},"googleOauthCallbackHandler":{"handler":"src/functions/google/oauth/handler.googleOauthCallbackHandler","events":[{"http":{"method":"get","path":"google/oauth/callback","cors":true}}]},"googleOauthExtendRefreshToken":{"handler":"src/functions/google/oauth/handler.googleOauthExtendRefreshToken","events":[{"http":{"method":"post","path":"google/oauth/extendToken","cors":true}}]},"googleOauthTokenScope":{"handler":"src/functions/google/oauth/handler.googleOauthTokenScope","events":[{"http":{"method":"post","path":"google/oauth/googleOauthTokenScope","cors":true}}]},"getAllCalendars":{"handler":"src/functions/google/calendar/handler.getAllCalendars","events":[{"http":{"method":"get","path":"google/calendars","cors":true}}]},"createMeeting":{"handler":"src/functions/google/calendar/handler.createMeeting","events":[{"http":{"method":"post","path":"google/calendar/{calendarId}/meeting","cors":true}}]},"createAndSendEmail":{"handler":"src/functions/google/gmail/handler.createAndSendEmail","events":[{"http":{"method":"post","path":"google/gmail/create-and-send-email","cors":true}}]},"getEmployees":{"handler":"src/functions/employees/handler.getEmployees","events":[{"http":{"method":"get","path":"employees","cors":true}}]}},"package":{"individually":true},"custom":{"region":"${opt:region, self:provider.region}","SCHEDULING_QUEUE":"scheduling-queue-${opt:stage, self:provider.stage}","STACK_NAME":"${opt:stage, self:provider.stage}","DB_NAME":"ge-db-dev-1","USERNAME":"postgres","PASSWORD":"v16pwn1QyN8iCixbWfbL","STAGE":"local","CACHE_INSTANCE_SIZE":"cache.t2.micro","DEPLOYMENT_BUCKET":"gel-api-dev-serverlessdeploymentbucket-d34v77eas9bz","VPC_ID":"vpc-05126227d046548e1","PRIVATE_SUBNET_1":"subnet-0bf9443e724778d81","PRIVATE_SUBNET_2":"subnet-029afa431f7f325f6","PRIVATE_SUBNET_3":"subnet-0553628384d3adf0a","PUBLIC_SUBNET_1":"subnet-02752e6de3a0e8a16","VPC_SECURITY_GROUP":"sg-0f35fcd0a25a50f4e","esbuild":{"bundle":true,"minify":false,"sourcemap":true,"watch":{"pattern":["src/**/*.ts"],"ignore":["temp/**/*"]},"exclude":["@serverless/typescript","@types/aws-lambda","@types/jsonwebtoken","@types/node","@types/pg","@types/uuid","dotenv","esbuild","esbuild-node-externals","esbuild-plugin-lodash","json-schema-to-ts","nodemon","serverless","serverless-dotenv-plugin","serverless-esbuild","serverless-layers","serverless-offline","ts-node","tsconfig-paths","typescript","@aws-sdk/client-apigatewaymanagementapi","@aws-sdk/client-dynamodb","@aws-sdk/client-elasticache","@aws-sdk/client-lambda","@aws-sdk/client-s3","@aws-sdk/client-scheduler","@casl/ability","@joi/date","@middy/core","@middy/http-json-body-parser","@sendgrid/mail","axios","googleapis","joi","jsonwebtoken","knex","knex-paginate","knex-stringcase","lodash.get","lodash.snakecase","middy","moment-timezone","objection","pg","redis","reflect-metadata","tsyringe","xlsx","@aws-sdk","aws-sdk","pg-native","pg-hstore","better-sqlite3","mysql2","oracledb","sqlite3","tedious","mysql","pg-query-stream","assert","fs","os","https","http","stream","tty","zlib","timers","path","crypto","dns","module","process","http2","child_process"],"target":"node18","define":{},"platform":"node","concurrency":10},"serverless-offline":{"resourceRoutes":true,"allowCache":true,"useChildProcesses":true},"serverlessOffline":{"resourceRoutes":true,"allowCache":true,"useChildProcesses":true},"serverless-layers":{"packageManager":"npm","dependenciesPath":"package.json","compatibleRuntimes":["nodejs16.x","nodejs18.x"]}}}